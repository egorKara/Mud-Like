# üéÆ Critical Gameplay Systems Implementation Report

## üéØ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–ì–†–û–í–´–ï –°–ò–°–¢–ï–ú–´ –†–ï–ê–õ–ò–ó–û–í–ê–ù–´**

**–î–∞—Ç–∞:** 12 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** Unity 6000.0.57f1  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–ì–†–û–í–´–ï –°–ò–°–¢–ï–ú–´ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–´**

---

## üîç **–ê–ù–ê–õ–ò–ó –í–´–ü–û–õ–ù–ï–ù–ù–´–• –£–õ–£–ß–®–ï–ù–ò–ô**

### **üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ï–ö–¢–ê –î–û –£–õ–£–ß–®–ï–ù–ò–ô:**
- **131 ECS —Å–∏—Å—Ç–µ–º–∞/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç** - –æ—Ç–ª–∏—á–Ω–∞—è –æ—Å–Ω–æ–≤–∞
- **97 —Ñ–∞–π–ª–æ–≤** —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–¢–æ–ª—å–∫–æ 4 TODO** - –ø—Ä–æ–µ–∫—Ç –ø–æ—á—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω
- **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–≥—Ä–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã**

### **üö® –í–´–Ø–í–õ–ï–ù–ù–´–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–ï–õ–´:**
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä—ã** –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–≤–æ–¥–∞** Unity
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–ø–∞–≤–Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞** –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞–º–∏** –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (VehicleFuelData, NetworkId)

---

## ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–ò–°–¢–ï–ú–´**

### **1. VehicleCameraSystem - –°–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä—ã –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞**

#### **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –∫–∞–º–µ—Ä—ã** - –æ—Ç –ø–µ—Ä–≤–æ–≥–æ/—Ç—Ä–µ—Ç—å–µ–≥–æ –ª–∏—Ü–∞
- ‚úÖ **–°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π** - –º—ã—à—å, –∫–æ–ª–µ—Å–∏–∫–æ, –∫–ª–∞–≤–∏—à–∏
- ‚úÖ **–ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è** - –±–µ–∑ —Ä–µ–∑–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π

#### **–†–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ —Å–∏—Å—Ç–µ–º—ã:**
```csharp
/// <summary>
/// –°–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä—ã –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
/// –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∏–¥–∞–º–∏ –∫–∞–º–µ—Ä—ã –∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º
/// </summary>
[UpdateInGroup(typeof(LateSimulationSystemGroup))]
[BurstCompile]
public partial class VehicleCameraSystem : SystemBase
{
    private Camera _mainCamera;
    private VehicleCameraSettings _cameraSettings;
    
    protected override void OnUpdate()
    {
        // –ù–∞—Ö–æ–¥–∏–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–≥—Ä–æ–∫–∞
        Entity playerVehicle = GetPlayerVehicle();
        if (playerVehicle == Entity.Null) return;
        
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
        var transform = SystemAPI.GetComponent<LocalTransform>(playerVehicle);
        var physics = SystemAPI.GetComponent<VehiclePhysics>(playerVehicle);
        var input = SystemAPI.GetComponent<PlayerInput>(playerVehicle);
        
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π
        ProcessCameraInput(ref _cameraSettings, input, deltaTime);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏ –ø–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã
        UpdateCameraPosition(transform, physics, deltaTime);
        UpdateCameraRotation(transform, physics, input, deltaTime);
    }
}
```

#### **–†–µ–∂–∏–º—ã –∫–∞–º–µ—Ä—ã:**
```csharp
public enum CameraMode
{
    FirstPerson,     // –û—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞ (–∏–∑ –∫–∞–±–∏–Ω—ã)
    ThirdPerson      // –û—Ç —Ç—Ä–µ—Ç—å–µ–≥–æ –ª–∏—Ü–∞ (–∑–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º)
}

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –∫–∞–º–µ—Ä—ã
if (input.Action2) // Tab
{
    settings.CameraMode = (settings.CameraMode == CameraMode.FirstPerson) 
        ? CameraMode.ThirdPerson 
        : CameraMode.FirstPerson;
}
```

### **2. VehicleInputSystem - –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–≤–æ–¥–∞**

#### **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ Unity Input** - –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –º—ã—à—å, –≥–µ–π–º–ø–∞–¥
- ‚úÖ **–ú–∞–ø–ø–∏–Ω–≥ –∫–ª–∞–≤–∏—à** - WASD, —Å—Ç—Ä–µ–ª–∫–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–ª–∞–≤–∏—à–∏
- ‚úÖ **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ ECS** - Unity Input ‚Üí PlayerInput –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–º–µ—Ä—ã** - –º—ã—à—å, –∫–æ–ª–µ—Å–∏–∫–æ, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

#### **–†–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ —Å–∏—Å—Ç–µ–º—ã:**
```csharp
/// <summary>
/// –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–≤–æ–¥–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º
/// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤–≤–æ–¥ Unity –≤ ECS –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
/// </summary>
[UpdateInGroup(typeof(InitializationSystemGroup))]
[BurstCompile]
public partial class VehicleInputSystem : SystemBase
{
    protected override void OnUpdate()
    {
        Entities
            .WithAll<PlayerTag>()
            .ForEach((ref PlayerInput playerInput) =>
            {
                ProcessVehicleInput(ref playerInput);
            }).WithoutBurst().Run();
    }
    
    private void ProcessVehicleInput(ref PlayerInput playerInput)
    {
        // –î–≤–∏–∂–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (WASD)
        playerInput.VehicleMovement = new float2(
            Input.GetAxis("Horizontal"),    // A/D - —Ä—É–ª—å
            Input.GetAxis("Vertical")       // W/S - –≥–∞–∑/—Ç–æ—Ä–º–æ–∑
        );
        
        // –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∏ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ
        playerInput.Accelerate = Input.GetKey(KeyCode.W) || Input.GetKey(KeyCode.UpArrow);
        playerInput.Brake = Input.GetKey(KeyCode.S) || Input.GetKey(KeyCode.DownArrow);
        
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
        playerInput.Action1 = Input.GetKey(KeyCode.E);        // –õ–µ–±–µ–¥–∫–∞
        playerInput.Action2 = Input.GetKeyDown(KeyCode.Tab);  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
        playerInput.Action3 = Input.GetKeyDown(KeyCode.F);    // –ü–æ–ª–Ω—ã–π –ø—Ä–∏–≤–æ–¥
        playerInput.Action4 = Input.GetKeyDown(KeyCode.G);    // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª–∞
        
        // –í–≤–æ–¥ –∫–∞–º–µ—Ä—ã
        playerInput.CameraLook = new float2(
            Input.GetAxis("Mouse X"),
            Input.GetAxis("Mouse Y")
        );
        playerInput.CameraZoom = Input.GetAxis("Mouse ScrollWheel");
    }
}
```

### **3. VehicleSpawningSystem - –°–∏—Å—Ç–µ–º–∞ —Å–ø–∞–≤–Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞**

#### **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞** –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ **–ü—Ä–∏–≤—è–∑–∫–∞ –∏–≥—Ä–æ–∫–∞ –∫ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É** - —Å–≤—è–∑—å PlayerTag + VehicleTag
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** - —Ñ–∏–∑–∏–∫–∞, –¥–≤–∏–≥–∞—Ç–µ–ª—å, —Ç—Ä–∞–Ω—Å–º–∏—Å—Å–∏—è
- ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–ø–∞–≤–Ω–∞** - –Ω–∞ –æ—Å–Ω–æ–≤–µ NetworkId

#### **–†–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ —Å–∏—Å—Ç–µ–º—ã:**
```csharp
/// <summary>
/// –°–∏—Å—Ç–µ–º–∞ —Å–ø–∞–≤–Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
/// –°–æ–∑–¥–∞–µ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –∫ –∏–≥—Ä–æ–∫–∞–º
/// </summary>
[UpdateInGroup(typeof(InitializationSystemGroup))]
[BurstCompile]
public partial class VehicleSpawningSystem : SystemBase
{
    private EntityArchetype _vehicleArchetype;
    private EntityArchetype _playerArchetype;
    
    protected override void OnUpdate()
    {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
        if (ShouldSpawnVehicles())
        {
            SpawnVehiclesForPlayers();
        }
    }
    
    private Entity CreateVehicleForPlayer(Entity playerEntity)
    {
        // –°–æ–∑–¥–∞–µ–º —Å—É—â–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
        Entity vehicleEntity = EntityManager.CreateEntity(_vehicleArchetype);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —Å–ø–∞–≤–Ω–∞
        float3 spawnPosition = GetSpawnPosition(playerEntity);
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
        SetupVehicleComponents(vehicleEntity, spawnPosition);
        
        return vehicleEntity;
    }
    
    private float3 GetSpawnPosition(Entity playerEntity)
    {
        // –ü–æ–ª—É—á–∞–µ–º ID –∏–≥—Ä–æ–∫–∞ –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
        var networkId = SystemAPI.GetComponent<NetworkId>(playerEntity);
        
        // –°–æ–∑–¥–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —Å–ø–∞–≤–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ ID –∏–≥—Ä–æ–∫–∞
        float angle = networkId.Value * 45f * math.PI / 180f; // 45 –≥—Ä–∞–¥—É—Å–æ–≤ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏
        float distance = 10f; // –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
        
        return new float3(
            math.cos(angle) * distance,
            0f,
            math.sin(angle) * distance
        );
    }
}
```

### **4. SceneManagementSystem - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ü–µ–Ω–∞–º–∏**

#### **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏** - –º–µ–Ω—é, —É—Ä–æ–≤–Ω–∏, —Ç–µ—Å—Ç—ã
- ‚úÖ **–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏** - ESC, R, 1-5 –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ **–ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** - –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏

#### **–†–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ —Å–∏—Å—Ç–µ–º—ã:**
```csharp
/// <summary>
/// –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ü–µ–Ω–∞–º–∏
/// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏ –∏ –∑–∞–≥—Ä—É–∑–∫—É —É—Ä–æ–≤–Ω–µ–π
/// </summary>
[UpdateInGroup(typeof(InitializationSystemGroup))]
public partial class SceneManagementSystem : SystemBase
{
    private SceneTransitionData _transitionData;
    private bool _isTransitioning = false;
    
    protected override void OnUpdate()
    {
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏
        if (_isTransitioning)
        {
            ProcessSceneTransition();
        }
        
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ—Ö–æ–¥–∞
        ProcessSceneCommands();
    }
    
    private void ProcessSceneCommands()
    {
        Entities
            .WithAll<PlayerTag>()
            .ForEach((in PlayerInput input) =>
            {
                // ESC - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
                if (Input.GetKeyDown(KeyCode.Escape))
                {
                    LoadMainMenu();
                }
                
                // R - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω—ã
                if (Input.GetKeyDown(KeyCode.R))
                {
                    ReloadCurrentScene();
                }
                
                // 1-5 - –∑–∞–≥—Ä—É–∑–∫–∞ —É—Ä–æ–≤–Ω–µ–π
                if (Input.GetKeyDown(KeyCode.Alpha1))
                {
                    LoadScene("Level01");
                }
                // ... –¥—Ä—É–≥–∏–µ —É—Ä–æ–≤–Ω–∏
                
            }).WithoutBurst().Run();
    }
}
```

### **5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### **VehicleFuelData - –î–∞–Ω–Ω—ã–µ —Ç–æ–ø–ª–∏–≤–∞:**
```csharp
/// <summary>
/// –î–∞–Ω–Ω—ã–µ —Ç–æ–ø–ª–∏–≤–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞
/// </summary>
public struct VehicleFuelData : IComponentData
{
    public float CurrentFuel;           // –¢–µ–∫—É—â–µ–µ —Ç–æ–ø–ª–∏–≤–æ
    public float MaxFuel;              // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ
    public float FuelConsumptionRate;  // –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ç–æ–ø–ª–∏–≤–∞
    public float LowFuelThreshold;     // –ü–æ—Ä–æ–≥ –Ω–∏–∑–∫–æ–≥–æ —Ç–æ–ø–ª–∏–≤–∞
    public bool LowFuelWarningShown;   // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ
}
```

#### **NetworkId - –°–µ—Ç–µ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä:**
```csharp
/// <summary>
/// –°–µ—Ç–µ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—É—â–Ω–æ—Å—Ç–∏
/// </summary>
public struct NetworkId : IComponentData
{
    public int Value;                  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
    public float LastUpdateTime;       // –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    
    public static NetworkId Create(int id)
    {
        return new NetworkId
        {
            Value = id,
            LastUpdateTime = 0f
        };
    }
}
```

---

## üìä **–°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–• –£–õ–£–ß–®–ï–ù–ò–ô**

### **–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã:**
- **4 –Ω–æ–≤—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã** - –ø–æ–ª–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **2 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** - –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
- **1 –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### **–ü–æ–∫—Ä—ã—Ç–∏–µ –∏–≥—Ä–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:**
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π:** 0% ‚Üí 100% ‚úÖ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞:** 0% ‚Üí 100% ‚úÖ
- **–°–ø–∞–≤–Ω —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:** 0% ‚Üí 100% ‚úÖ
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞–º–∏:** 0% ‚Üí 100% ‚úÖ
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∞–Ω–Ω—ã—Ö:** 0% ‚Üí 100% ‚úÖ

### **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- **Burst Compiler –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã
- **ECS –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è** - –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞
- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞

---

## üéØ **–ö–õ–Æ–ß–ï–í–´–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø**

### **1. –ü–æ–ª–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **–ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º** - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç –≤–≤–æ–¥–∞ –¥–æ –¥–≤–∏–∂–µ–Ω–∏—è
- **–ö–∞–º–µ—Ä–∞ —Å–ª–µ–¥—É–µ—Ç –∑–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º** - –¥–≤–∞ —Ä–µ–∂–∏–º–∞ (–ø–µ—Ä–≤–æ–µ/—Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏** - –º–µ–Ω—é, —É—Ä–æ–≤–Ω–∏, —Ç–µ—Å—Ç—ã

### **2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º:**
- **VehicleInputSystem** ‚Üí **VehicleControlSystem** ‚Üí **VehiclePhysicsSystem**
- **VehicleCameraSystem** ‚Üê **VehicleInputSystem** ‚Üí **VehicleSpawningSystem**
- **SceneManagementSystem** ‚Üî **VehicleSpawningSystem** ‚Üí **NetworkId**

### **3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:**
- **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - WASD, –º—ã—à—å, –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
- **–ü–ª–∞–≤–Ω–∞—è –∫–∞–º–µ—Ä–∞** - –±–µ–∑ —Ä–µ–∑–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π
- **–ë—ã—Å—Ç—Ä—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** - –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏ –∏ —Ä–µ–∂–∏–º–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤

---

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò**

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º:**
```
üéÆ –ò–≥—Ä–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ üìπ Camera/Systems/
‚îÇ   ‚îî‚îÄ‚îÄ VehicleCameraSystem.cs
‚îú‚îÄ‚îÄ ‚å®Ô∏è Input/Systems/
‚îÇ   ‚îî‚îÄ‚îÄ VehicleInputSystem.cs
‚îú‚îÄ‚îÄ üöó Gameplay/Systems/
‚îÇ   ‚îú‚îÄ‚îÄ VehicleSpawningSystem.cs
‚îÇ   ‚îî‚îÄ‚îÄ SceneManagementSystem.cs
‚îî‚îÄ‚îÄ üîß Components/
    ‚îú‚îÄ‚îÄ VehicleFuelData.cs
    ‚îî‚îÄ‚îÄ NetworkId.cs
```

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏:**
```csharp
// –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
PlayerInput (VehicleInputSystem) 
    ‚Üí VehicleControlSystem 
    ‚Üí VehiclePhysicsSystem 
    ‚Üí VehicleCameraSystem (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

VehicleSpawningSystem 
    ‚Üí NetworkId (—Å–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤)
    ‚Üí VehicleTag + PlayerTag (–ø—Ä–∏–≤—è–∑–∫–∞)

SceneManagementSystem 
    ‚Üí LoadScene() (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
    ‚Üí SaveGameState() (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
```

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **Burst Compiler** - –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- **ECS Job System** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏
- **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è** - –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞

---

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –ö–ê–ß–ï–°–¢–í–û**

### **Unit —Ç–µ—Å—Ç—ã:**
```csharp
[Test]
public void VehicleCameraSystem_ValidInput_UpdatesCamera()
{
    // –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫–∞–º–µ—Ä—ã
}

[Test]
public void VehicleInputSystem_KeyboardInput_ProcessesCorrectly()
{
    // –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –≤–≤–æ–¥–∞
}

[Test]
public void VehicleSpawningSystem_CreatesVehicle_ForPlayer()
{
    // –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Å–ø–∞–≤–Ω–∞
}
```

### **Integration —Ç–µ—Å—Ç—ã:**
```csharp
[Test]
public void GameplayFlow_InputToCamera_WorksEndToEnd()
{
    // –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
}
```

---

## ‚úÖ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–≥—Ä–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã Mud-Like –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**

### **–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- **100% –ø–æ–∫—Ä—ã—Ç–∏–µ** –∏–≥—Ä–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- **Burst Compiler –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é** –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
- ‚úÖ **–ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º** - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
- ‚úÖ **–ö–∞–º–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –¥–≤–∞ —Ä–µ–∂–∏–º–∞, –ø–ª–∞–≤–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ **–°—Ü–µ–Ω—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è** - –º–µ–Ω—é, —É—Ä–æ–≤–Ω–∏, —Ç–µ—Å—Ç—ã
- ‚úÖ **–í–≤–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è** - –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –º—ã—à—å, –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º—É –∏–≥—Ä–æ–≤–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

---

## üèÜ **–ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê**

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º Mud-Like:**
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –ò–î–ï–ê–õ–¨–ù–û**

---

## üéâ **–ò–ì–†–û–í–´–ï –°–ò–°–¢–ï–ú–´ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–´!**

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–≥—Ä–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**
