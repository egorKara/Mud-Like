# üöó Mud-Like Mud Physics Implementation Guide

## üìã **–û–ë–ó–û–†**

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π —Ñ–∏–∑–∏–∫–∏ –≥—Ä—è–∑–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–ª–µ—Å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ Mud-Like.

## üéØ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –°–ò–°–¢–ï–ú–´**

### **1. üèóÔ∏è SurfaceData - –¢–∏–ø—ã –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π**

```csharp
public enum SurfaceType
{
    Asphalt,     // –ê—Å—Ñ–∞–ª—å—Ç - –≤—ã—Å–æ–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Concrete,    // –ë–µ—Ç–æ–Ω - —Ö–æ—Ä–æ—à–µ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Dirt,        // –ì—Ä—è–∑—å - —Å—Ä–µ–¥–Ω–µ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Mud,         // –ì–ª—É–±–æ–∫–∞—è –≥—Ä—è–∑—å - –Ω–∏–∑–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Sand,        // –ü–µ—Å–æ–∫ - –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Grass,       // –¢—Ä–∞–≤–∞ - —Å—Ä–µ–¥–Ω–µ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Water,       // –í–æ–¥–∞ - –æ—á–µ–Ω—å –Ω–∏–∑–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Ice,         // –õ–µ–¥ - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Snow,        // –°–Ω–µ–≥ - –Ω–∏–∑–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Rock,        // –ö–∞–º–µ–Ω—å - –≤—ã—Å–æ–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Gravel,      // –ì—Ä–∞–≤–∏–π - —Ö–æ—Ä–æ—à–µ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
    Swamp        // –ë–æ–ª–æ—Ç–æ - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
}
```

**–°–≤–æ–π—Å—Ç–≤–∞ –∫–∞–∂–¥–æ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏:**
- **FrictionCoefficient** - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç—Ä–µ–Ω–∏—è (0-1)
- **TractionCoefficient** - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å—Ü–µ–ø–ª–µ–Ω–∏—è (0-1)
- **RollingResistance** - —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ–Ω–∏—é (0-1)
- **Viscosity** - –≤—è–∑–∫–æ—Å—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (0-1)
- **Density** - –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (–∫–≥/–º¬≥)
- **PenetrationDepth** - –≥–ª—É–±–∏–Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è (0-1)
- **DryingRate** - —Å–∫–æ—Ä–æ—Å—Ç—å –≤—ã—Å—ã—Ö–∞–Ω–∏—è (0-1 –≤ —Å–µ–∫—É–Ω–¥—É)
- **Temperature** - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (¬∞C)
- **Moisture** - –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (0-1)

### **2. üöó WheelPhysicsData - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–∑–∏–∫–∞ –∫–æ–ª–µ—Å**

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **SlipRatio** - —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (0-1)
- **SlipAngle** - —É–≥–æ–ª –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (—Ä–∞–¥–∏–∞–Ω—ã)
- **SurfaceTraction** - —Å—Ü–µ–ø–ª–µ–Ω–∏–µ —Å —Ç–µ–∫—É—â–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å—é
- **SinkDepth** - –≥–ª—É–±–∏–Ω–∞ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å
- **RollingResistance** - —Å–∏–ª–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –∫–∞—á–µ–Ω–∏—é
- **ViscousResistance** - —Å–∏–ª–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –≤—è–∑–∫–æ—Å—Ç–∏
- **BuoyancyForce** - —Å–∏–ª–∞ –≤—ã—Ç–∞–ª–∫–∏–≤–∞–Ω–∏—è (–ê—Ä—Ö–∏–º–µ–¥)

**–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –∏–∑–Ω–æ—Å:**
- **WheelTemperature** - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ–ª–µ—Å–∞
- **TreadWear** - –∏–∑–Ω–æ—Å –ø—Ä–æ—Ç–µ–∫—Ç–æ—Ä–∞ (0-1)
- **TirePressure** - –¥–∞–≤–ª–µ–Ω–∏–µ –≤ —à–∏–Ω–µ (–∫–ü–∞)
- **HeatingRate** - —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–≥—Ä–µ–≤–∞
- **CoolingRate** - —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è

**–ì—Ä—è–∑—å –Ω–∞ –∫–æ–ª–µ—Å–µ:**
- **MudParticleCount** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü –≥—Ä—è–∑–∏
- **MudMass** - –º–∞—Å—Å–∞ –≥—Ä—è–∑–∏ –Ω–∞ –∫–æ–ª–µ—Å–µ (–∫–≥)
- **CleaningRate** - —Å–∫–æ—Ä–æ—Å—Ç—å –æ—á–∏—Å—Ç–∫–∏ –æ—Ç –≥—Ä—è–∑–∏

## üîß **–§–ò–ó–ò–ß–ï–°–ö–ò–ï –ú–ï–•–ê–ù–ò–ö–ò**

### **1. üéØ –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ (Slip)**

```csharp
// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
float wheelSpeed = wheel.AngularVelocity * wheel.Radius;
float vehicleSpeed = math.length(vehiclePhysics.Velocity);
float slipRatio = math.abs(wheelSpeed - vehicleSpeed) / math.max(wheelSpeed, 0.1f);

// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —É–≥–ª–∞ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
float3 velocityDirection = math.normalize(vehiclePhysics.Velocity);
float3 wheelDirection = math.forward(wheelTransform.Rotation);
float slipAngle = math.acos(math.dot(velocityDirection, wheelDirection));
```

**–í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ:**
- **0-0.1** - –æ—Ç–ª–∏—á–Ω–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
- **0.1-0.3** - —Ö–æ—Ä–æ—à–µ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
- **0.3-0.6** - —Å—Ä–µ–¥–Ω–µ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
- **0.6-0.8** - –ø–ª–æ—Ö–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ
- **0.8-1.0** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ

### **2. üåä –ë—É–∫—Å–æ–≤–∞–Ω–∏–µ (Traction Loss)**

```csharp
// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ü–µ–ø–ª–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
float baseTraction = surface.TractionCoefficient;
float slipFactor = math.clamp(1f - slipRatio, 0.1f, 1f);
float finalTraction = baseTraction * slipFactor;

// –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
float criticalSlipSpeed = surface.FrictionCoefficient * vehiclePhysics.Mass * 9.81f;
```

**–§–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è–Ω–∏—è:**
- **–¢–∏–ø –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏** - –∞—Å—Ñ–∞–ª—å—Ç vs –≥—Ä—è–∑—å
- **–í–ª–∞–∂–Ω–æ—Å—Ç—å** - —Å—É—Ö–∞—è vs –º–æ–∫—Ä–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞** - —Ö–æ–ª–æ–¥–Ω–∞—è vs –≥–æ—Ä—è—á–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å
- **–î–∞–≤–ª–µ–Ω–∏–µ –≤ —à–∏–Ω–µ** - –Ω–∏–∑–∫–æ–µ vs –≤—ã—Å–æ–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ
- **–ò–∑–Ω–æ—Å –ø—Ä–æ—Ç–µ–∫—Ç–æ—Ä–∞** - –Ω–æ–≤—ã–π vs –∏–∑–Ω–æ—à–µ–Ω–Ω—ã–π

### **3. üï≥Ô∏è –ó–∞—Ç—è–≥–∏–≤–∞–Ω–∏–µ —Ç—Ä—è—Å–∏–Ω–æ–π (Sink)**

```csharp
// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è
float wheelPressure = vehiclePhysics.Mass * 9.81f / (math.PI * wheel.Radius * wheel.Radius);
float sinkDepth = wheelPressure / (surface.Density * 9.81f) * surface.PenetrationDepth;

// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è
sinkDepth = math.clamp(sinkDepth, 0f, surface.PenetrationDepth);
```

**–¢–∏–ø—ã –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π –ø–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—é:**
- **Asphalt/Concrete** - 0% –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ
- **Dirt** - 10% –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ
- **Sand** - 20% –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ
- **Mud** - 30% –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ
- **Snow** - 40% –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ
- **Swamp** - 60% –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ

### **4. üåÄ –ó–∞–Ω–æ—Å (Drift)**

```csharp
// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–∫–æ–≤–æ–π —Å–∏–ª—ã —Å—Ü–µ–ø–ª–µ–Ω–∏—è
float3 rightDirection = math.right(wheelTransform.Rotation);
float lateralTraction = surfaceTraction * math.dot(rightDirection, velocityDirection);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–Ω–æ—Å–∞
if (lateralTraction < 0.3f)
{
    // –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–Ω–æ—Å
    ProcessDrift(ref wheelPhysics, lateralTraction);
}
```

**–£—Å–ª–æ–≤–∏—è –∑–∞–Ω–æ—Å–∞:**
- **–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** + **–†–µ–∑–∫–∏–π –ø–æ–≤–æ—Ä–æ—Ç**
- **–ù–∏–∑–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ** + **–í–ª–∞–∂–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å**
- **–ò–∑–Ω–æ—à–µ–Ω–Ω—ã–µ —à–∏–Ω—ã** + **–ì–æ–ª–æ–ª–µ–¥**

### **5. üíß –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–æ–¥–æ–π**

```csharp
// –ì–∏–¥—Ä–æ–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
float waterDepth = CalculateWaterDepth(surface);
if (waterDepth > wheel.Radius * 0.1f)
{
    // –°–Ω–∏–∂–µ–Ω–∏–µ —Å—Ü–µ–ø–ª–µ–Ω–∏—è –∏–∑-–∑–∞ –≤–æ–¥—ã
    float hydroplaningFactor = math.clamp(waterDepth / (wheel.Radius * 0.5f), 0f, 1f);
    surfaceTraction *= (1f - hydroplaningFactor * 0.8f);
}

// –í—ã—Ç–∞–ª–∫–∏–≤–∞—é—â–∞—è —Å–∏–ª–∞ (–ê—Ä—Ö–∏–º–µ–¥)
float submergedVolume = math.PI * wheel.Radius * wheel.Radius * sinkDepth;
float buoyancyForce = surface.Density * 9.81f * submergedVolume;
```

## üé® **–í–ò–ó–£–ê–õ–¨–ù–´–ï –≠–§–§–ï–ö–¢–´**

### **1. üåßÔ∏è –ß–∞—Å—Ç–∏—Ü—ã –≥—Ä—è–∑–∏ (MudParticleData)**

```csharp
public struct MudParticleData : IComponentData
{
    public float3 Position;      // –ü–æ–∑–∏—Ü–∏—è —á–∞—Å—Ç–∏—Ü—ã
    public float3 Velocity;      // –°–∫–æ—Ä–æ—Å—Ç—å —á–∞—Å—Ç–∏—Ü—ã
    public float3 Acceleration;  // –£—Å–∫–æ—Ä–µ–Ω–∏–µ —á–∞—Å—Ç–∏—Ü—ã
    public float Size;           // –†–∞–∑–º–µ—Ä —á–∞—Å—Ç–∏—Ü—ã
    public float Mass;           // –ú–∞—Å—Å–∞ —á–∞—Å—Ç–∏—Ü—ã
    public float Lifetime;       // –í—Ä–µ–º—è –∂–∏–∑–Ω–∏
    public float Alpha;          // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
    public float4 Color;         // –¶–≤–µ—Ç —á–∞—Å—Ç–∏—Ü—ã
    public ParticleType Type;    // –¢–∏–ø —á–∞—Å—Ç–∏—Ü—ã
    public bool IsStuck;         // –ü—Ä–∏–ª–∏–ø–ª–∞ –ª–∏ –∫ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
    public float Moisture;       // –í–ª–∞–∂–Ω–æ—Å—Ç—å —á–∞—Å—Ç–∏—Ü—ã
    public float Viscosity;      // –í—è–∑–∫–æ—Å—Ç—å —á–∞—Å—Ç–∏—Ü—ã
}
```

### **2. üé≠ –¢–∏–ø—ã —á–∞—Å—Ç–∏—Ü**

- **Mud** - –≥—Ä—è–∑—å (–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π, –≤—è–∑–∫–∏–π)
- **Water** - –≤–æ–¥–∞ (—Å–∏–Ω–∏–π, –∂–∏–¥–∫–∏–π)
- **Sand** - –ø–µ—Å–æ–∫ (–∂–µ–ª—Ç—ã–π, —Å—ã–ø—É—á–∏–π)
- **Grass** - —Ç—Ä–∞–≤–∞ (–∑–µ–ª–µ–Ω—ã–π, –ª–µ–≥–∫–∏–π)
- **Stone** - –∫–∞–º–µ–Ω—å (—Å–µ—Ä—ã–π, —Ç—è–∂–µ–ª—ã–π)
- **Dust** - –ø—ã–ª—å (—Å–µ—Ä—ã–π, –ª–µ–≥–∫–∏–π)
- **Smoke** - –¥—ã–º (—á–µ—Ä–Ω—ã–π, –ª–µ–≥–∫–∏–π)
- **Spark** - –∏—Å–∫—Ä—ã (–∂–µ–ª—Ç—ã–π, –≥–æ—Ä—è—á–∏–π)

### **3. üåä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤**

**–£—Å–ª–æ–≤–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- **–ì—Ä—è–∑—å** - –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–æ –≥—Ä—è–∑–Ω–æ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ —Å –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ–º > 0.1–º
- **–í–æ–¥–∞** - –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–æ –≤–æ–¥–µ —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é > 2 –º/—Å
- **–ü—ã–ª—å** - –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–æ –ø–µ—Å–∫—É —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é > 3 –º/—Å
- **–ò—Å–∫—Ä—ã** - –ø—Ä–∏ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–∏ —Å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ–º > 80%

## üî¨ **–§–ò–ó–ò–ß–ï–°–ö–ò–ï –§–û–†–ú–£–õ–´**

### **1. üìê –°–∏–ª–∞ —Å—Ü–µ–ø–ª–µ–Ω–∏—è**

```
F_traction = Œº √ó N √ó f_slip √ó f_temp √ó f_pressure √ó f_moisture

–ì–¥–µ:
Œº - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å—Ü–µ–ø–ª–µ–Ω–∏—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
N - –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∏–ª–∞ (–º–∞—Å—Å–∞ √ó –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è)
f_slip - —Ñ–∞–∫—Ç–æ—Ä –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (1 - slip_ratio)
f_temp - —Ñ–∞–∫—Ç–æ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (temp / 100¬∞C)
f_pressure - —Ñ–∞–∫—Ç–æ—Ä –¥–∞–≤–ª–µ–Ω–∏—è (pressure / max_pressure)
f_moisture - —Ñ–∞–∫—Ç–æ—Ä –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ (1 - moisture √ó 0.5)
```

### **2. üï≥Ô∏è –ì–ª—É–±–∏–Ω–∞ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è**

```
sink_depth = (wheel_pressure / (surface_density √ó gravity)) √ó penetration_depth

–ì–¥–µ:
wheel_pressure = vehicle_mass √ó gravity / (œÄ √ó wheel_radius¬≤)
penetration_depth - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
```

### **3. üåä –í—è–∑–∫–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ**

```
F_viscous = viscosity √ó velocity √ó wheel_radius

–ì–¥–µ:
viscosity - –≤—è–∑–∫–æ—Å—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (0-1)
velocity - —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –∫–æ–ª–µ—Å–∞
wheel_radius - —Ä–∞–¥–∏—É—Å –∫–æ–ª–µ—Å–∞
```

### **4. üèä –í—ã—Ç–∞–ª–∫–∏–≤–∞—é—â–∞—è —Å–∏–ª–∞ (–ê—Ä—Ö–∏–º–µ–¥)**

```
F_buoyancy = surface_density √ó gravity √ó submerged_volume

–ì–¥–µ:
submerged_volume = œÄ √ó wheel_radius¬≤ √ó sink_depth
```

## üéÆ **–ò–ì–†–û–í–´–ï –ú–ï–•–ê–ù–ò–ö–ò**

### **1. üöó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º**

**–í–ª–∏—è–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **–ê—Å—Ñ–∞–ª—å—Ç** - –æ—Ç–ª–∏—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- **–ì—Ä—è–∑—å** - —Å–ª–æ–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å
- **–í–æ–¥–∞** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–∏–∑–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- **–õ–µ–¥** - –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –æ–ø–∞—Å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

### **2. üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è**

**–î–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π:**
- **–ì—Ä—è–∑—å** - –º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –∏–∑–±–µ–≥–∞–Ω–∏–µ —Ä–µ–∑–∫–∏—Ö –ø–æ–≤–æ—Ä–æ—Ç–æ–≤
- **–í–æ–¥–∞** - –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –∏–∑–±–µ–≥–∞–Ω–∏–µ –≥–∏–¥—Ä–æ–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü–µ—Å–æ–∫** - —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, –∏–∑–±–µ–≥–∞–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- **–õ–µ–¥** - –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –ø–ª–∞–≤–Ω—ã–µ –ø–æ–≤–æ—Ä–æ—Ç—ã

### **3. üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞**

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π:**
- **–®–∏–Ω—ã** - –¥–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–æ—Ç–µ–∫—Ç–æ—Ä, —Ä–∞–∑–º–µ—Ä
- **–ü–æ–¥–≤–µ—Å–∫–∞** - –∂–µ—Å—Ç–∫–æ—Å—Ç—å, –¥–µ–º–ø—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–î–≤–∏–≥–∞—Ç–µ–ª—å** - –º–æ—â–Ω–æ—Å—Ç—å, –∫—Ä—É—Ç—è—â–∏–π –º–æ–º–µ–Ω—Ç
- **–¢–æ—Ä–º–æ–∑–∞** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, ABS

## üìä **–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò**

### **1. ‚ö° Burst Compilation**

```csharp
[BurstCompile]
public partial struct AdvancedWheelPhysicsJob : IJobEntity
{
    // –í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã Burst –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º
}
```

### **2. üîÑ Job System**

```csharp
// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∫–æ–ª–µ—Å
Dependency = wheelPhysicsJob.ScheduleParallel(_wheelQuery, Dependency);
```

### **3. üíæ Object Pooling**

```csharp
// –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü –≥—Ä—è–∑–∏
public class MudParticlePool : MonoBehaviour
{
    private Queue<GameObject> _particlePool = new Queue<GameObject>();
    
    public GameObject GetParticle()
    {
        if (_particlePool.Count > 0)
            return _particlePool.Dequeue();
        
        return Instantiate(_particlePrefab);
    }
}
```

## üéØ **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

### **1. üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ**

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—è—Ö** - –∫–∞–∂–¥–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –≤–µ–¥–µ—Ç —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å—Ü–µ–ø–ª–µ–Ω–∏—è, –≤—è–∑–∫–æ—Å—Ç–∏, –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏
3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Burst –∏ Job System
4. **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å** - –Ω–µ –¥–µ–ª–∞—Ç—å –∏–≥—Ä—É —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ–π

### **2. üìÖ –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ**

1. **–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** - —á–∞—Å—Ç–∏—Ü—ã –≥—Ä—è–∑–∏, –±—Ä—ã–∑–≥–∏ –≤–æ–¥—ã
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–≤—É–∫–∏** - —Ä–∞–∑–Ω—ã–µ –∑–≤—É–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π
3. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω—ã** - —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏—Ü—ã** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Object Pooling

### **3. üìÜ –í —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞**

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–≥–æ–¥–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** - –¥–æ–∂–¥—å, —Å–Ω–µ–≥, —Ç—É–º–∞–Ω
2. **–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π** - —É–ª—É—á—à–µ–Ω–∏—è —à–∏–Ω, –ø–æ–¥–≤–µ—Å–∫–∏
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è** - –≥–æ–Ω–∫–∏ –ø–æ —Ä–∞–∑–Ω—ã–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—è–º
4. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∫–æ—Ä–¥—ã** - –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: $(date)
**–í–µ—Ä—Å–∏—è**: 1.0
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è
**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞