# üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Netcode for Entities (NFE)

## üìã **–û–ë–ó–û–†**

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è Netcode for Entities –≤ –ø—Ä–æ–µ–∫—Ç–µ Mud-Like. –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å–µ—Ç–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º, –≤–∫–ª—é—á–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é, –∫–æ–º–∞–Ω–¥—ã, –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –∞–Ω—Ç–∏—á–∏—Ç.

## üöÄ **–°–¢–†–£–ö–¢–£–†–ê –¢–ï–°–¢–û–í**

```
Assets/Scripts/Tests/Integration/
‚îú‚îÄ‚îÄ NFEIntegrationTests.cs          # –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ NetworkPositionSyncTests.cs     # –¢–µ—Å—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π
‚îú‚îÄ‚îÄ NetworkCommandTests.cs          # –¢–µ—Å—Ç—ã —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ LagCompensationTests.cs         # –¢–µ—Å—Ç—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–µ–∫
‚îú‚îÄ‚îÄ AntiCheatTests.cs               # –¢–µ—Å—Ç—ã –∞–Ω—Ç–∏—á–∏—Ç —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ NFEPerformanceTests.cs          # –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README_NFEIntegrationTests.md   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üéØ **–¢–ò–ü–´ –¢–ï–°–¢–û–í**

### **1. –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (NFEIntegrationTests.cs)**
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –∞–Ω—Ç–∏—á–∏—Ç–∞

### **2. –¢–µ—Å—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π (NetworkPositionSyncTests.cs)**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –ø–æ—Ä–æ–≥–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —É–≥–ª–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### **3. –¢–µ—Å—Ç—ã —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ (NetworkCommandTests.cs)**
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –¥–≤–∏–∂–µ–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –¥–≤–∏–∂–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ —Å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ü–µ–ª—å—é
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥

### **4. –¢–µ—Å—Ç—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–µ–∫ (LagCompensationTests.cs)**
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –¥–ª—è –ø–æ–∑–∏—Ü–∏–π
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ RTT
- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —Å —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º
- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É –ø–æ–∑–∏—Ü–∏—è–º–∏
- –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–∫–æ—Ä–æ—Å—Ç—è–º–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

### **5. –¢–µ—Å—Ç—ã –∞–Ω—Ç–∏—á–∏—Ç —Å–∏—Å—Ç–µ–º—ã (AntiCheatTests.cs)**
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–ª–µ—Ç–∞
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å—Ç–µ–Ω—ã
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –±–æ—Ç–æ–≤
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω—Ç–∏—á–∏—Ç–∞
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

### **6. –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (NFEPerformanceTests.cs)**
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å —á–∞—Å—Ç—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–µ–∫
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ RTT
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω—Ç–∏—á–∏—Ç —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∂–∞—Ç–∏—è —Å–µ—Ç–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üõ†Ô∏è **–ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í**

### **–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**
```bash
# –í Unity Test Runner
Window > General > Test Runner > Integration Tests > Run All

# –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
Unity -batchmode -quit -projectPath . -runTests -testPlatform playmode -testCategory Integration
```

### **–ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**
```bash
# –¢–µ—Å—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π
Unity -batchmode -quit -projectPath . -runTests -testPlatform playmode -testCategory "PositionSync"

# –¢–µ—Å—Ç—ã –∞–Ω—Ç–∏—á–∏—Ç —Å–∏—Å—Ç–µ–º—ã
Unity -batchmode -quit -projectPath . -runTests -testPlatform playmode -testCategory "AntiCheat"

# –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
Unity -batchmode -quit -projectPath . -runTests -testPlatform playmode -testCategory "Performance"
```

## üìä **–ú–ï–¢–†–ò–ö–ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò**

### **–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π**: < 50–º—Å –¥–ª—è 1000 —Å—É—â–Ω–æ—Å—Ç–µ–π
- **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫**: < 30–º—Å –¥–ª—è 1000 —Å—É—â–Ω–æ—Å—Ç–µ–π
- **–ê–Ω—Ç–∏—á–∏—Ç —Å–∏—Å—Ç–µ–º–∞**: < 100–º—Å –¥–ª—è 1000 –∏–≥—Ä–æ–∫–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥**: < 200–º—Å –¥–ª—è 1000 –∫–æ–º–∞–Ω–¥
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**: < 100MB –¥–ª—è 10000 —Å—É—â–Ω–æ—Å—Ç–µ–π

### **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**: > 90% –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: < 5 –º–∏–Ω—É—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: 0% –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 100% –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —á–∏—Ç–µ—Ä—Å—Ç–≤–∞

## üîß **–ù–ê–°–¢–†–û–ô–ö–ê –¢–ï–°–¢–û–í**

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã**
```csharp
[SetUp]
public override void SetUp()
{
    base.SetUp();
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã
    ConfigureTestEnvironment();
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
    CreateTestEntities();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º
    InitializeSystems();
}
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
```csharp
// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
const float positionThreshold = 0.01f;
const float rotationThreshold = 0.01f;
const float maxSpeed = 100f;
const float maxHeight = 1000f;

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RTT –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
var rttValues = new float[] { 0.05f, 0.1f, 0.2f, 0.5f };
```

## üìù **–ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø**

### **–ü—Ä–∏–º–µ—Ä 1: –¢–µ—Å—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π**
```csharp
[Test]
public void SyncPosition_ClientToServer_ShouldUpdateServerPosition()
{
    // Arrange
    var clientPosition = new float3(100f, 5f, 200f);
    var clientRotation = quaternion.RotateY(math.radians(45f));
    
    SetClientPosition(_clientEntity, clientPosition, clientRotation);
    
    // Act
    _networkSyncSystem.Update();
    
    // Assert
    var serverNetworkPosition = EntityManager.GetComponentData<NetworkPosition>(_serverEntity);
    Assert.AreEqual(clientPosition, serverNetworkPosition.Value);
    Assert.AreEqual(clientRotation, serverNetworkPosition.Rotation);
    Assert.IsTrue(serverNetworkPosition.HasChanged);
}
```

### **–ü—Ä–∏–º–µ—Ä 2: –¢–µ—Å—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–µ–∫**
```csharp
[Test]
public void CompensateLag_ForPosition_ShouldCompensateCorrectly()
{
    // Arrange
    var networkPosition = new NetworkPosition
    {
        Value = new float3(0f, 0f, 0f),
        Velocity = new float3(10f, 0f, 5f),
        LastUpdateTime = (float)Time.time - 0.1f, // 100–º—Å –∑–∞–¥–µ—Ä–∂–∫–∞
        HasChanged = true
    };
    
    EntityManager.SetComponentData(_clientEntity, networkPosition);
    
    // Act
    _lagCompensationSystem.Update();
    
    // Assert
    var compensatedPosition = EntityManager.GetComponentData<NetworkPosition>(_clientEntity);
    Assert.IsTrue(compensatedPosition.Value.x > 0f);
    Assert.IsTrue(compensatedPosition.Value.z > 0f);
}
```

### **–ü—Ä–∏–º–µ—Ä 3: –¢–µ—Å—Ç –∞–Ω—Ç–∏—á–∏—Ç —Å–∏—Å—Ç–µ–º—ã**
```csharp
[Test]
public void DetectTeleportation_WithLargePositionChange_ShouldFlagAsSuspicious()
{
    // Arrange
    var networkPosition = new NetworkPosition
    {
        Value = new float3(0f, 0f, 0f),
        LastUpdateTime = (float)Time.time - 0.1f,
        HasChanged = true
    };
    
    EntityManager.SetComponentData(_playerEntity, networkPosition);
    
    // –°–∏–º—É–ª–∏—Ä—É–µ–º —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—é
    var teleportedPosition = new NetworkPosition
    {
        Value = new float3(1000f, 0f, 1000f), // –û—á–µ–Ω—å –¥–∞–ª–µ–∫–æ
        LastUpdateTime = (float)Time.time,
        HasChanged = true
    };
    
    EntityManager.SetComponentData(_playerEntity, teleportedPosition);
    
    // Act
    _antiCheatSystem.Update();
    
    // Assert
    Assert.IsTrue(EntityManager.HasComponent<AntiCheatFlag>(_playerEntity));
    var flag = EntityManager.GetComponentData<AntiCheatFlag>(_playerEntity);
    Assert.IsTrue(flag.IsSuspicious);
    Assert.AreEqual("Teleportation detected", flag.Reason);
}
```

## üéØ **–õ–£–ß–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò**

### **1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–µ—Ç–∫–∏–µ –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤ –∫–ª–∞—Å—Å—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SetUp –∏ TearDown –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–ª–æ–∂–Ω—ã–º —Ç–µ—Å—Ç–∞–º

### **2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏**
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ SetUp
- –û—á–∏—â–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ TearDown
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∏ (Assertions)**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Å–µ –≤–∞–∂–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Assert.IsTrue —Å –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

### **4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤—Ä–µ–º–µ–Ω–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–º–µ—Ä—è–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

## üîç **–û–¢–õ–ê–î–ö–ê –¢–ï–°–¢–û–í**

### **–û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**
1. **–¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç —Å —Ç–∞–π–º–∞—É—Ç–æ–º**
   - –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤—Ä–µ–º–µ–Ω–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–¥

2. **–õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–∫—É —Ç–µ—Å—Ç–æ–≤

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
   - –û—á–∏—â–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –≤ TearDown
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏**
- Unity Profiler –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- Unity Memory Profiler –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞–º—è—Ç–∏
- Unity Test Runner –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- Console –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤

## üìö **–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´**

### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Unity**
- [Unity Test Framework](https://docs.unity3d.com/Packages/com.unity.test-framework@latest/)
- [Netcode for Entities](https://docs.unity3d.com/Packages/com.unity.netcode@latest/)
- [Unity ECS](https://docs.unity3d.com/Packages/com.unity.entities@latest/)

### **–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**
- [Unity Testing Best Practices](https://docs.unity3d.com/Manual/testing-best-practices.html)
- [Performance Testing](https://docs.unity3d.com/Manual/performance-testing.html)
- [Memory Profiler](https://docs.unity3d.com/Manual/ProfilerMemory.html)

## üéØ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è NFE –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:

- üöÄ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
- üéØ **–ö–∞—á–µ—Å—Ç–≤–æ** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –Ω–∞ —Ä–∞–Ω–Ω–µ–º —ç—Ç–∞–ø–µ
- üìä **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∑–∞—â–∏—Ç–∞ –æ—Ç —á–∏—Ç–µ—Ä—Å—Ç–≤–∞
- üìà **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –±–æ–ª—å—à–∏–º–∏ –Ω–∞–≥—Ä—É–∑–∫–∞–º–∏

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–π —Å–µ—Ç–µ–≤–æ–π –∏–≥—Ä—ã!**
